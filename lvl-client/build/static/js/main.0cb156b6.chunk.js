(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,n){e.exports=n.p+"static/media/app.5be8eed2.less"},49:function(e,t,n){e.exports=n(84)},54:function(e,t,n){},55:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var a=n(0),i=n.n(a),r=n(22),o=n.n(r),c=(n(54),n(8)),s=n(9),l=n(11),u=n(10),p=n(12),d=n(17),m=(n(32),n(55),n(90)),g=n(88),h=n(86),v=n(13),f=n(5),y=n(14),E=n(20),b=n.n(E),A=function(){b.a.get("https://bw-designyourlife-api.herokuapp.com/testDb",{headers:{Authorization:localStorage.getItem("token")}}).then(function(e){console.log(e.data)}).catch(function(e){console.log(e)})},C=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={credentials:{username:"",password:""}},n.handleChanges=function(e){n.setState({credentials:Object(f.a)({},n.state.credentials,Object(v.a)({},e.target.name,e.target.value))})},n.login=function(e){e.preventDefault(),n.props.login(n.state.credentials).then(function(){n.props.history.push("/protected")})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("form",{onSubmit:this.login},i.a.createElement("h4",null,"Username: "),i.a.createElement("input",{type:"text",name:"username",placeholder:"Username",value:this.state.credentials.username,onChange:this.handleChanges}),i.a.createElement("h4",null,"Password: "),i.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:this.state.credentials.password,onChange:this.handleChanges}),i.a.createElement("button",null," Log In ")))}}]),t}(a.Component),O=Object(y.b)(null,{login:function(e){return function(t){return t({type:"LOGIN_START"}),b.a.post("https://bw-designyourlife-api.herokuapp.com/api/auth/login",e).then(function(e){console.log(e.data),localStorage.setItem("token",e.data.token),t({type:"LOGIN_SUCCESS",payload:e.data.payload}),A()}).catch(function(e){console.log(e)})}}})(C),j=n(47),T=n(89),S=function(e){var t=e.component,n=Object(j.a)(e,["component"]);return i.a.createElement(h.a,Object.assign({},n,{render:function(e){return localStorage.getItem("token")?i.a.createElement(t,e):i.a.createElement(T.a,{to:"/login"})}}))},I=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("h2",null,"Login successful"))}}]),t}(a.Component),w=n(87),_=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleChanges=function(e){n.setState({credentials:Object(f.a)({},n.state.credentials,Object(v.a)({},e.target.name,e.target.value))})},n.handleRegister=function(e){e.preventDefault();var t=n.state.credentials,a=t.password;a===t.confirmPassword&&n.props.registerUser({username:n.state.credentials.username,password:a})},n.state={credentials:{username:"",password:"",confirmPassword:""}},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return console.log(this.props),i.a.createElement("div",null,i.a.createElement("form",{onSubmit:this.handleRegister},i.a.createElement("h4",null,"Username: "),i.a.createElement("input",{type:"text",name:"username",value:this.state.credentials.username,onChange:this.handleChanges}),i.a.createElement("h4",null," Password: "),i.a.createElement("input",{type:"password",name:"password",value:this.state.credentials.password,onChange:this.handleChanges}),i.a.createElement("h4",null,"Confirm Password: "),i.a.createElement("input",{type:"password",name:"confirmPassword",value:this.state.credentials.confirmPassword,onChange:this.handleChanges}),i.a.createElement("button",null," Register ")))}}]),t}(a.Component),R=Object(w.a)(Object(y.b)(function(e){return{isRegistering:e.isRegistering}},{registerUser:function(e){return function(t){t({type:"REGISTER_START"}),b.a.post("https://bw-designyourlife-api.herokuapp.com/api/auth/register",e).then(function(e){localStorage.setItem("token",e.data.token),t({type:"REGISTER_SUCCESS",payload:e.data.payload}),A()}).catch(function(e){t({type:"REGISTER_FAILURE",payload:e})})}}})(_)),L=n(19);function D(){var e=Object(d.a)(["\n  margin-left: 1rem;\n  margin-bottom: 1.3rem;\n"]);return D=function(){return e},e}function U(){var e=Object(d.a)(["\n  background: grey;\n  width: 8rem;\n  margin-left: 2rem;\n"]);return U=function(){return e},e}var k=L.a.button(U()),G=L.a.input(D()),F=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={description:"",results:"",enjoyment:"",activities:[],logDate:"",outcomes:"",engagement:"",logActivity:""},n.componentDidMount=function(){n.setState({activities:n.props.activities}),console.log(n.props.activities)},n.componentDidUpdate=function(e,t){t.activities!==n.props.activities&&n.setState({activities:n.props.activities})},n.handleFormChanges=function(e){e.preventDefault();var t=e.target,a=t.name,i=t.value;n.setState(Object(v.a)({},a,i))},n.handleAddActivity=function(e){var t=n.state,a=t.description,i=t.results,r=t.enjoyment;e.preventDefault(),n.props.addActivity({description:a,results:i,enjoyment:r})},n.handleAddActivityLog=function(e){e.preventDefault();var t=n.state,a=t.logDate,i=t.outcomes,r=t.enjoyment,o=t.engagement,c=t.logActivity,s={date:new Date(a),outcomes:i,activities:[{name:c,enjoyment:r,engagement:o}]};n.props.addActivityLog(s)},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.activities.length&&this.state.activities.map(function(e){return i.a.createElement("option",{value:e.name,key:e.id},e.name)});return i.a.createElement("div",null,i.a.createElement("form",{onSubmit:this.handleAddActivity},i.a.createElement("select",null,e),i.a.createElement(G,{type:"text",name:"description",placeholder:"Description",value:this.state.description,onChange:this.handleFormChanges}),i.a.createElement(k,{type:"submit"}," Add Activity ")),i.a.createElement("form",{onSubmit:this.handleAddActivityLog},i.a.createElement("select",{onChange:this.handleFormChanges,name:"logActivity",value:this.state.logActivity},e),i.a.createElement(G,{type:"text",name:"logDate",placeholder:"Date",value:this.state.logDate,onChange:this.handleFormChanges}),i.a.createElement(G,{type:"text",name:"outcomes",placeholder:"Outcomes",autoComplete:"off",value:this.state.outcomes,onChange:this.handleFormChanges}),i.a.createElement(G,{type:"number",name:"enjoyment",placeholder:"Enjoyment (1-10)",value:this.state.enjoyment,onChange:this.handleFormChanges,autoComplete:"off"}),i.a.createElement(G,{type:"number",name:"engagement",placeholder:"Engagement (1-10)",value:this.state.engagement,onChange:this.handleFormChanges,autoComplete:"off"}),i.a.createElement(k,{type:"submit"}," Add Activity ")))}}]),t}(a.Component);function V(){var e=Object(d.a)(["\n  font-size: 1.8rem;\n\n  &:hover {\n    color: #81fffe;\n    padding-bottom: 3px;\n    margin-bottom: 7px;\n    border-bottom: 1.5px solid #81fffe;\n  }\n"]);return V=function(){return e},e}function x(){var e=Object(d.a)(["\n  background: #3d4247;\n  color: #ffffff;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem;\n\n  @media @mobile {\n    flex-direction: column;\n    justify-content: space-evenly;\n  }\n"]);return x=function(){return e},e}var Y=L.a.header(x()),P=L.a.nav(V()),N=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).componentDidMount=function(){n.props.getActivities()},n.componentDidUpdate=function(e,t){n.props.hasLatestActivities||n.props.getActivities()},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(m.a,null,i.a.createElement("div",{className:"App"},i.a.createElement(Y,null,i.a.createElement("h1",null," LVL "),i.a.createElement(P,null,i.a.createElement(g.a,{to:"/"}," (Public) "),i.a.createElement(g.a,{to:"/protected"}," Protected "),i.a.createElement(g.a,{to:"/login"}," Log In"),i.a.createElement(g.a,{to:"/register"},"Register"),i.a.createElement(g.a,{to:"/activitylog"}," Activity Log"))),i.a.createElement(h.a,{path:"/activityLog",render:function(t){return i.a.createElement(F,Object.assign({},t,{activities:e.props.activities,addActivity:e.props.addActivity,addActivityLog:e.props.addActivityLog}))}}),i.a.createElement(h.a,{path:"/login",component:O}),i.a.createElement(h.a,{path:"/register",component:R}),i.a.createElement(S,{exact:!0,path:"/protected",component:I})))}}]),t}(a.Component);var M=Object(y.b)(function(e){return{activities:e.activities,hasLatestActivities:e.hasLatestActivities}},{getActivities:function(){return function(e){e({type:"GET_ACTIVITY_START"}),b.a.get("https://bw-designyourlife-api.herokuapp.com/api/activities/username").then(function(t){e({type:"GET_ACTIVITY_SUCCESS",payload:t.data})}).catch(function(t){e({type:"GET_ACTIVITY_FAILURE",payload:t.response})})}},addActivity:function(e){return function(t){t({type:"ADD_ACTIVITY_START"}),b.a.put("https://bw-designyourlife-api.herokuapp.com/api/activity-logs/testUser").then(function(n){t({type:"ADD_ACTIVITY_SUCCESS",payload:e})}).catch(function(e){t({type:"ADD_ACTIVITY_FAILURE",error:e.response})})}},addActivityLog:function(e){return function(t){t({type:"ADD_ACTIVITYLOG_START"}),console.log(e)}}})(N),H=n(18),z={isLoggingIn:!1,activities:[],error:null,isRegistering:!1,gettingActivity:!1,addingActivities:!1,hasLatestActivities:!1},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_REQUEST":return Object(f.a)({},e,{isLoggingIn:!0,error:""});case"FETCH_SUCCESS":return Object(f.a)({},e,{activities:t.payload,isLoggingIn:!1,error:""});case"FETCH_FAILURE":return Object(f.a)({},e,{error:t.payload,isLoggingIn:!1});case"REGISTER_START":return Object(f.a)({},e,{error:"",isRegistering:!0});case"REGISTER_SUCCESS":return Object(f.a)({},e,{isRegistering:!1,error:""});case"REGISTER_FAILURE":return Object(f.a)({},e,{error:t.payload,isRegistering:!1});case"GET_ACTIVITY_START":return Object(f.a)({},e,{error:null,gettingActivity:!0});case"GET_ACTIVITY_SUCCESS":return Object(f.a)({},e,{activities:t.payload,gettingActivity:!1,hasLatestActivities:!0});case"GET_ACTIVITY_FAILURE":return Object(f.a)({},e,{error:t.payload,gettingActivity:!1});case"ADD_ACTIVITYLOG_START":return Object(f.a)({},e,{addingActivities:!0,error:null});case"ADD_ACTIVITYLOG_SUCCESS":return Object(f.a)({},e,{addingActivities:!1,activities:t.payload,hasLatestActivities:!1,error:null});case"ADD_ACTIVITYLOG_FAILURE":return Object(f.a)({},e,{error:t.payload,addingActivities:!1});default:return e}},J=n(44),W=n(45),X=n.n(W),Q=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||H.c,$=Object(H.d)(B,Q(Object(H.a)(J.a,X.a)));o.a.render(i.a.createElement(y.a,{store:$},i.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[49,1,2]]]);
//# sourceMappingURL=main.0cb156b6.chunk.js.map