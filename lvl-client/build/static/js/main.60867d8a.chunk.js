(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{48:function(e,t,n){e.exports=n(83)},53:function(e,t,n){},54:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var a=n(0),r=n.n(a),o=n(20),i=n.n(o),c=(n(53),n(8)),s=n(9),l=n(11),u=n(10),p=n(12),d=(n(54),n(88)),m=n(87),h=n(85),g=n(13),E=n(5),f=n(14),v=n(18),y=n.n(v),b=function(){y.a.get("https://bw-designyourlife-api.herokuapp.com/testDb",{headers:{Authorization:localStorage.getItem("token")}}).then(function(e){console.log(e.data)}).catch(function(e){console.log(e)})},O=function(e){return function(t){t({type:"ADD_ENJOYMENT_START"}),y.a.get("https://bw-designyourlife-api.herokuapp.com/api/activities").then(function(n){t({type:"ADD_ACTIVITY_SUCCESS",payload:e})}).catch(function(e){t({type:"ADD_ACTIVITY_FAILURE",error:e.response})})}},j=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={credentials:{username:"",password:""}},n.handleChanges=function(e){n.setState({credentials:Object(E.a)({},n.state.credentials,Object(g.a)({},e.target.name,e.target.value))})},n.login=function(e){e.preventDefault(),n.props.login(n.state.credentials).then(function(){n.props.history.push("/protected")})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.login},r.a.createElement("h4",null,"Username: "),r.a.createElement("input",{type:"text",name:"username",placeholder:"Username",value:this.state.credentials.username,onChange:this.handleChanges}),r.a.createElement("h4",null,"Password: "),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:this.state.credentials.password,onChange:this.handleChanges}),r.a.createElement("button",null," Log In ")))}}]),t}(a.Component),C=Object(f.b)(null,{login:function(e){return function(t){return t({type:"LOGIN_START"}),y.a.post("https://bw-designyourlife-api.herokuapp.com/api/auth/login",e).then(function(e){console.log(e.data),localStorage.setItem("token",e.data.token),t({type:"LOGIN_SUCCESS",payload:e.data.payload}),b()}).catch(function(e){console.log(e)})}}})(j),S=n(45),T=n(89),w=function(e){var t=e.component,n=Object(S.a)(e,["component"]);return r.a.createElement(h.a,Object.assign({},n,{render:function(e){return localStorage.getItem("token")?r.a.createElement(t,e):r.a.createElement(T.a,{to:"/login"})}}))},I=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Login successful"))}}]),t}(a.Component),A=n(86),R=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleChanges=function(e){n.setState({credentials:Object(E.a)({},n.state.credentials,Object(g.a)({},e.target.name,e.target.value))})},n.handleRegister=function(e){e.preventDefault();var t=n.state.credentials,a=t.password;a===t.confirmPassword&&n.props.registerUser({username:n.state.credentials.username,password:a})},n.state={credentials:{username:"",password:"",confirmPassword:""}},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleRegister},r.a.createElement("h4",null,"Username: "),r.a.createElement("input",{type:"text",name:"username",value:this.state.credentials.username,onChange:this.handleChanges}),r.a.createElement("h4",null," Password: "),r.a.createElement("input",{type:"password",name:"password",value:this.state.credentials.password,onChange:this.handleChanges}),r.a.createElement("h4",null,"Confirm Password: "),r.a.createElement("input",{type:"password",name:"confirmPassword",value:this.state.credentials.confirmPassword,onChange:this.handleChanges}),r.a.createElement("button",null," Register ")))}}]),t}(a.Component),_=Object(A.a)(Object(f.b)(function(e){return{isRegistering:e.isRegistering}},{registerUser:function(e){return function(t){t({type:"REGISTER_START"}),y.a.post("https://bw-designyourlife-api.herokuapp.com/api/auth/register",e).then(function(e){localStorage.setItem("token",e.data.token),t({type:"REGISTER_SUCCESS",payload:e.data.payload}),b()}).catch(function(e){t({type:"REGISTER_FAILURE",payload:e})})}}})(R)),k=n(39);function L(){var e=Object(k.a)(["\n  background: grey;\n  width: 8rem;\n  margin-left: 2rem;\n"]);return L=function(){return e},e}var U=n(40).a.button(L()),D=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={description:"",results:"",enjoyment:"",activities:n.props.activities},n.componentDidMount=function(){n.props.getActivities(),console.log(n.props.getActivities())},n.handleFormChanges=function(e){e.preventDefault();var t=e.target,a=t.name,r=t.value;n.setState(Object(g.a)({},a,r))},n.handleAddActivity=function(e){var t=n.state,a=t.description,r=t.results,o=t.enjoyment;e.preventDefault(),n.props.addActivity({description:a,results:r,enjoyment:o})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.activities.length&&this.state.activities.map(function(e){return console.log(e),r.a.createElement("option",{value:e.name,key:e.id},e.name)});return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:O},r.a.createElement("select",null,e),r.a.createElement("input",{type:"text",name:"description",placeholder:"Description",value:this.state.description,onChange:this.handleFormChanges}),r.a.createElement("input",{type:"text",name:"results",placeholder:"Results",autoComplete:"off",value:this.state.results,onChange:this.handleFormChanges}),r.a.createElement("input",{type:"number",name:"enjoyment",value:this.state.enjoyment,onChange:this.handleFormChanges,autoComplete:"off"}),r.a.createElement(U,{type:"submit"}," Add Activity ")))}}]),t}(a.Component);var G=Object(f.b)(function(e){return{activities:e.activities}},{getActivities:function(){return function(e){e({type:"GET_ACTIVITY_START"}),y.a.get("https://bw-designyourlife-api.herokuapp.com/api/activities/username").then(function(t){e({type:"GET_ACTIVITY_SUCCESS",payload:t.data})}).catch(function(t){e({type:"GET_ACTIVITY_FAILURE",payload:t.response})})}},addActivity:O})(D),F=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("h1",null," LVL "),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(m.a,{to:""}," (Public) ")),r.a.createElement("li",null,r.a.createElement(m.a,{to:"/protected"}," Protected ")),r.a.createElement("li",null,r.a.createElement(m.a,{to:"/login"}," Log In")),r.a.createElement("li",null,r.a.createElement(m.a,{to:"/register"},"Register")),r.a.createElement("li",null,r.a.createElement(m.a,{to:"/activitylog"}," Activity Log"))),r.a.createElement(h.a,{exact:!0,path:"/",component:t}),r.a.createElement(h.a,{path:"/activityLog",component:G}),r.a.createElement(h.a,{path:"/login",component:C}),r.a.createElement(h.a,{path:"/register",component:_}),r.a.createElement(w,{exact:!0,path:"/protected",component:I})))}}]),t}(a.Component),P=n(17),V={isLoggingIn:!1,activities:[],error:null,isRegistering:!1,addingActivity:!1},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_REQUEST":return Object(E.a)({},e,{isLoggingIn:!0,error:""});case"FETCH_SUCCESS":return Object(E.a)({},e,{activities:t.payload,isLoggingIn:!1,error:""});case"FETCH_FAILURE":return Object(E.a)({},e,{error:t.payload,isLoggingIn:!1});case"REGISTER_START":return Object(E.a)({},e,{error:"",isRegistering:!0});case"REGISTER_SUCCESS":return Object(E.a)({},e,{isRegistering:!1,error:""});case"REGISTER_FAILURE":return Object(E.a)({},e,{error:t.payload,isRegistering:!1});case"GET_ACTIVITY_START":return Object(E.a)({},e,{error:null,addingActivity:!0});case"GET_ACTIVITY_SUCCESS":return console.log(t.payload),Object(E.a)({},e,{activities:t.payload,addingActivity:!1});case"GET_ACTIVITY_FAILURE":return Object(E.a)({},e,{error:t.payload,addingActivity:!1});default:return e}},x=n(43),N=n(44),M=n.n(N),H=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||P.c,J=Object(P.d)(Y,H(Object(P.a)(x.a,M.a)));i.a.render(r.a.createElement(f.a,{store:J},r.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[48,1,2]]]);
//# sourceMappingURL=main.60867d8a.chunk.js.map